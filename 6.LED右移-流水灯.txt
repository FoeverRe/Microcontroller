/*-----------------------------------------------
  名称：LED右移
  编写：6
  日期：2024.4.22
  修改：无
  内容：循环右移，始终一个led点亮，并循环执行流水动作，右移符号 >>  逻辑或符号 |

------------------------------------------------*/
#include<reg52.h> //包含头文件，一般情况不需要改动，头文件包含特殊功能寄存器的定义
void Delay(unsigned int xms)		//@12.000MHz
{
	while (xms--) {
		unsigned char i, j;

		i = 2;
		j = 239;
		do
		{
			while (--j);
		} while (--i);
	}
}
void main()
{

	unsigned char i;  //定义一个无符号字符型局部变量 i 取值范围 0~255
	P2 = 0x7F;           //赋初始值
	while (1)          //主循环
	{
		for (i = 0; i < 8; i++)   //加入 for循环，表明for循环大括号中的程序循环执行8次
		{
			Delay(200);
			P2 >>= 1;
			P2 = P2 | 0x80;     //右移后，最左端自动赋值0，所以需要该语句赋值1
		}
		P2 = 0x7F;           //重新赋初始值
	}
}